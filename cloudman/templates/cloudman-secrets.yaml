apiVersion: v1
kind: Secret
metadata:
  name: {{ template "cloudman.fullname" . }}-secret
  labels:
    pp: {{ template "cloudman.name" . }}
    chart: {{ template "cloudman.chart" . }}
    release: {{ .Release.Name | quote }}
    heritage: {{ .Release.Service | quote }}
type: Opaque
data:
  rancher_config.yaml:
    rancher_url: {{ .Values.rancher_url }}
    rancher_api_key: {{ .Values.rancher_api_key }}
    rancher_cluster_id: {{ .Values.rancher_cluster_id }}
    rancher_project_id: {{ .Values.rancher_project_id }}
  # Already b64 encoded, so no need to encode again
  cm-bootstrap-data: {{ .Values.cm_bootstrap_data | quote }}
